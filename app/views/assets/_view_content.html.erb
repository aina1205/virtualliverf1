<%= javascript_include_tag  'pdf.js'-%>   <!-- this is library-->
<%= javascript_include_tag 'pdfjs'-%>    <!--this is internal code-->
<%= stylesheet_link_tag 'pdfjs.css'-%>   <!--this is internal code-->


<% is_inline_viewable = Seek::Config.experimental_features_enabled && (display_item ||=nil) && display_item.is_content_viewable?
   title = ''
   resource_text = item.class.name.humanize
   if is_inline_viewable
     title = "View inline the content of this #{resource_text}"
   elsif !display_item.can_download?
     title = "You are not authorized to view the content of this #{resource_text}"
   elsif !display_item.is_viewable_format?
     title = "This file format is not inline viewable supported"
   end

   download_url = polymorphic_path(item, :version => display_item.version, :action => 'get_pdf', :version => display_item.version) %>
<%= link_to_function 'View content' + expand_image, :onclick => is_inline_viewable ? "viewPDFContent('#{download_url}');" : "alert('#{title}');", :id => 'view_content_expand_image', :class => is_inline_viewable ? 'link_text' : 'disabled_link_text', :title => title do |page|
  if is_inline_viewable
    page["view_content_expand_image"].toggle
    page["hide_content_collapse_image"].toggle
  end
end
%>
<%= link_to_function 'Hide content' + collapse_image, :onclick => "hidePDFContent('')", :id => 'hide_content_collapse_image', :class => 'link_text', :style => "display:none" do |page|
  page["view_content_expand_image"].toggle
  page["hide_content_collapse_image"].toggle
end
%>
<br/>
<%= render :partial => 'layouts/pdf_content_display' %>
